2 dim array a bit inefficient, repeated code should be func